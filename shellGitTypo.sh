# constants

# ascii art - Most of them found on asciiart.eu, unknown artists

gitTypoDonkey='
                          /\          /\
                         ( \\        // )
                          \ \\      // /
                           \_\\||||//_/
                            \/ _  _ \
                           \/|(O)(O)|
                          \/ |      |
      ___________________\/  \      /
     //                //     |____|
    //                ||     /      \
   //|                \|     \ 0  0 /
  // \       )         V    / \____/
 //   \     /        (     /
""     \   /_________|  |_/
       /  /\   /     |  ||
      /  / /  /      \  ||
      | |  | |        | ||
      | |  | |        | ||
      |_|  |_|        |_||
       \_\  \_\        \_\\'

gitTypoExplosion0='
      )
     (
    .-`-.
    :   :
    :TNT:
    :___:'
gitTypoExplosion1='
    \|/
   - o -
    /-`-.
    :   :
    :TNT:
    :___:'
gitTypoExplosion2='


    .---.
    : | :
    :-o-:
    :_|_:'
gitTypoExplosion3='


    .---.
    (\|/)
    --0--
    (/|\)'
gitTypoExplosion4="


   '.\|/.'
   (\   /)
   - -O- -
   (/   \)
   ,'/|\'."
gitTypoExplosion5='

`.  \ | /  ,`
  `. `.` ,`
 ( .`.|.` .)
 - ~ -0- ~ -
 ('
gitTypoExplosion6='
`,`|`.` )
  .` .`. `.
,`  / | \  `.
    \ `  "
 ` . `.` ,`
 . `` ,`. "
   ~ (   ~ -
`'
gitTypoExplosion7='
. `,`|` ` .
  .`  "  `
,   ` , `  `

   (  ) (
    ) ( )
    (  )
     ) /
    ,---.'
    
gitTypoPill='
 _________
[_________]
 |  .-.  |
 |,(o.o).|
 | >|n|< |
 |` `"` `|
 |POISON!|
 `"""""""`'

gitTypoPoop="
  )  )
 (   ) (
  ) _   )
   ( \_
 _(_\ \)__
(____\___))"

# Staute of Liberty by b'ger
gitTypoStatue="
         ^
       ,' \\
       L\"\"/
       \` |
       J |
       J L
       | | .  ,
       | |.\`v_L.'
      // ,>-(-\'_
      \\\`' \ - /-.
      /   /\`\"\"|
       ),'    \`-
      (    ,-'  \\
       ) ,' ,'   h
      / /  /     \`)--..
      \/  /       \  <)
       <        ,  L<'
       F/     _/  ,'
       L   ,-'     \\
       |         ___L
      /         (  F
     J      ___,'  L
     |    ,'       |
     F  ,'         |
    (_,--..__  mt-2|_
   ,'        \`\"\`--.._\\
 ,' /                 \\
/                     (_
"

gitTypoHeart='
╔══╗
╚╗╔╝
╔╝(¯`v´¯)
╚══`.¸.[GIT]
'

# arrays

# bible
gitTypoBible[0]="And Jesus said unto Paul, 'Come forth, and receive everlasting life.' But Paul came in fifth, and received a toaster. - Order 25:3"
gitTypoBible[1]="And the angel said unto him: 'Stop hitting yourself. Stop hitting yourself.' But low he could not. For the angel was hitting him with his own hands. - Irony 7:12"
gitTypoBible[2]="Blessed are the cheesemakers.- Brian 22:1"
gitTypoBible[3]="First shalt thou take out the Holy Pin. Then shalt thou count to three, no more, no less. Three shall be the number thou shalt count, and the number of the counting shall be three. Four shalt thou not count, neither count thou two, excepting that thou then proceed to three. Five is right out. Once the number three, being the third number, be reached, then lobbest thou thy Holy Hand Grenade of Antioch towards thy foe, who, being naughty in My sight, shall snuff it. - Arthur 1:2:5"
gitTypoBible[4]="He's not the Messiah. He's a very naughty boy. - Brian 3:28"
gitTypoBible[5]="Let those among you who are without sin be the first to throw the stone. The crowd looked at Jesus, believing he had a good point. Then Jesus picked up a stone. - Irony 8:19"
gitTypoBible[6]="'This is my body'\n'This is my blood'\n'And this is your card'\nApostles go nuts. - Miracles 15:14"
gitTypoBible[7]="Thou shalt have dominion over all the beasts except, of course, cats. - Felines 12:17"
gitTypoBible[8]="Verily I say unto thee, lay thine eyes upon the field in which my fucks are grown. Behold that it is barren. - Crops 6:11"
gitTypoBibleLength=9

# german proverbs
gitTypoGermanProverbs[0]="Alles hat ein Ende, nur die Wurst hat zwei."
gitTypoGermanProverbs[1]="Da liegt der Hund begraben."
gitTypoGermanProverbs[2]="Das ist mir Wurst."
gitTypoGermanProverbs[3]="Das Blaue vom Himmel versprechen."
gitTypoGermanProverbs[4]="Das kannst du deiner Oma erzählen."
gitTypoGermanProverbs[5]="Das Leben ist kein Ponyhof."
gitTypoGermanProverbs[6]="Die Kirche im Dorf lassen."
gitTypoGermanProverbs[7]="Du gehst mir auf den Keks."
gitTypoGermanProverbs[8]="Fremdschämen."
gitTypoGermanProverbs[9]="Ich glaub ich spinne."
gitTypoGermanProverbs[10]="Ich verstehe nur Bahnhof."
gitTypoGermanProverbs[11]="Ins Gras beißen."
gitTypoGermanProverbs[12]="Jetzt haben wir den Salat."
gitTypoGermanProverbs[13]="Kabelsalat."
gitTypoGermanProverbs[14]="Kein Schwein war da."
gitTypoGermanProverbs[15]="Klappe zu, Affe tot."
gitTypoGermanProverbs[16]="Kummerspeck."
gitTypoGermanProverbs[17]="Leben ist kein Ponyhof."
gitTypoGermanProverbs[18]="Leben wie Gott in Frankreich."
gitTypoGermanProverbs[19]="Luftschloss."
gitTypoGermanProverbs[20]="Mein Englisch ist unter aller Sau."
gitTypoGermanProverbs[21]="Nul acht funfzehn."
gitTypoGermanProverbs[22]="Schlafen wie ein Murmeltier."
gitTypoGermanProverbs[23]="Sie hat einen Vogel."
gitTypoGermanProverbs[24]="Sie hat nicht alle Tassen im Schrank."
gitTypoGermanProverbs[25]="Sie spielt die beleidigte Leberwurst."
gitTypoGermanProverbs[26]="Treppenwitz."
gitTypoGermanProverbs[27]="Was Hänschen nicht lernt, lernt Hans nimmermehr."
gitTypoGermanProverbs[28]="Wo sich Fuchs und Hase gute Nacht sagen."
gitTypoGermanProverbsLength=29

# sleep noises
gitTypoSleepNoises[0]="*snore*"
gitTypoSleepNoises[1]="zzz"
gitTypoSleepNoisesLength=2

# echo a random array element
# pass array name as first parameter
echoRandomArrayElement() {
  argumentArrayName=$1
  argumentArray=$argumentArrayName[@]
  # get array length variable name
  argumentArrayLength=${argumentArrayName}Length
  # choose index array bounds
  randomIndex=$((RANDOM % ${!argumentArrayLength}))
  # print element at index
  indirectValue=$argumentArrayName[$randomIndex]
  echo ${!indirectValue}
}

git() {
  # enable zsh compatibility
  if [ -n "$ZSH_VERSION" ]; then emulate -L ksh; fi
  
  # add
  if [ "$1" = "dad" ]; then
    curl -s https://icanhazdadjoke.com
    echo
    command git add "${@:2}"

  elif [ "$1" = "ass" ]; then
    echo "$gitTypoDonkey"
    command git add "${@:2}"

  # blame
  elif [ "$1" = "blam" ]; then
    clear; echo "$gitTypoExplosion0"
    sleep 0.5; clear; echo "$gitTypoExplosion1"
    sleep 0.5; clear; echo "$gitTypoExplosion2"
    sleep 0.5; clear; echo "$gitTypoExplosion3"
    sleep 0.5; clear; echo "$gitTypoExplosion4"
    sleep 0.5; clear; echo "$gitTypoExplosion5"
    sleep 0.5; clear; echo "$gitTypoExplosion6"
    sleep 0.5; clear; echo "$gitTypoExplosion7"
    sleep 1; clear
    command git blame "${@:2}"

  # commit
  elif [ "$1" = "vommit" ]; then
    curl -s http://whatthecommit.com/index.txt
    command git commit "${@:2}"

  elif [ "$1" = "commit" -a "$2" = "--amen" ]; then
    echoRandomArrayElement gitTypoBible
    command git commit --amend "${@:3}"

  # pull
  elif [ "$1" = "pill" ]; then
    echo "Now thats a hard pill to swallow..."
    echo "$gitTypoPill"
    command git pull "${@:2}"

  # remote
  elif [ "$1" = "remote" -a "$2" = "dad" ]; then
    curl -s https://icanhazdadjoke.com
    echo
    command git remote add "${@:3}"

  # reset
  elif [ "$1" = "rest" ]; then
    echo "Thank you, I was tired..."
    if [ "$2" = "--hard" ]; then
      noiseDuration=10
    elif [ "$2" = "--soft" ]; then
      noiseDuration=3
    else
      noiseDuration=5
    fi
    for ((i=0; i<$noiseDuration; i++)); do
      sleep 1
      echoRandomArrayElement gitTypoSleepNoises
    done
    sleep 1
    echo "Wow nice nap !"
    command git reset "${@:2}"
    
  # merge
  elif [ "$1" = "merde" ]; then
    echo "$gitTypoPoop"
    command git merge "${@:2}"

  # stash
  elif [ "$1" = "stash" -a "$2" = "poop" ]; then
    echo "$gitTypoPoop"
    command git stash pop "${@:3}"
  
  # status
  elif [ "$1" = "statue" ]; then
    echo "$gitTypoStatue"
    command git status "${@:2}"

  # log
  elif [ "$1" = "lov" ]; then
    clear; echo "$gitTypoHeart"
    sleep 1.5; clear
    command git log "${@:2}"
    
  else
    command git "$@"
  fi;
}

# other functions

GIT() {
  # convert output to all uppercase
  git "$@" | tr [a-z] [A-Z]
}

got() {
  if [ "$1" = "checkout" ]; then
    echo "Beware, some people did that and ended up in detached HEAD state."
  else
    echo "You spend too much time watching series."
  fi;
  git "$@"
}

if ! type gti &> /dev/null; then
  gti () {
    # invert output lines
    git "$@" | awk '{a[i++]=$0} END {for (j=i-1; j>=0;) print a[j--] }'
  }
fi

gut() {
  # citation choice and output
  echoRandomArrayElement gitTypoGermanProverbs
  git "$@"
}
